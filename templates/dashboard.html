<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Energy Usage Dashboard</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body class="custom-body">
    <div class="custom-dashboard">
        <div class="custom-header">
            <h1>Home Energy Usage</h1>
        </div>

        <div class="custom-main-content">
            <!-- Left Panels -->
            <div class="custom-left-panel">
                <div class="custom-top-items">
                    <div class="custom-item custom-oven">Oven 1 Min<br><span>3.83 kW</span></div>
                    <div class="custom-item custom-furnace">Gas Furnace 1 Min<br><span>380 W</span></div>
                    <div class="custom-item custom-bedroom">Guest Bedroom 1 Min<br><span>269 W</span></div>
                    <div class="custom-item custom-office">Office 1 Min<br><span>231 W</span></div>
                    <div class="custom-item custom-living-room">Living Room 1 Min<br><span>176 W</span></div>
                </div>

                <div class="custom-power-total">
                    <h2>Current Day Power Total</h2>
                    <div class="custom-value">11.1 kWh</div>
                </div>

                <div class="custom-power-cost">
                    <h2>Current Day Power Cost</h2>
                    <div class="custom-value">$1.07</div>
                </div>

                <div class="custom-charts">
                    <h3>Hourly Power Usage by Device</h3>
                    <canvas id="customPowerChart"></canvas>
                </div>
            </div>

            <!-- Right Panels -->
            <div class="custom-right-panel">
                <div class="custom-month-usage">
                    <h2>Current Month Total Power Usage</h2>
                    <div class="custom-value">20kWh</div>
                </div>

                <div class="custom-month-bill">
                    <h2>Current Month Bill</h2>
                    <div class="custom-value">$5.24</div>
                </div>

                <div class="custom-power-grid">
                    <h3>Month Power Total</h3>
                    <canvas id="customPowerGrid"></canvas>
                </div>

                <div class="custom-top-devices">
                    <h3>Top 5 Devices (Last Week)</h3>
                    <canvas id="customDevicesPieChart"></canvas>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script> 
        // Hourly Power Usage by Device (Bar Chart)
        const customPowerChart = document.getElementById('customPowerChart').getContext('2d');
        new Chart(customPowerChart, {
            type: 'bar',
            data: {
                labels: ['AC', 'Fridge', 'Heater', 'Laptop', 'Microwave', 'Television'],
                datasets: [{
                    label: 'Power Usage (kWh)',
                    data: [0.5, 0.3, 0.7, 0.1, 0.4, 0.2],
                    backgroundColor: ['#ff5733', '#33ff57', '#5733ff', '#33fff0', '#f033ff', '#ff33a1'],
                    borderWidth: 1
                }]
            }
        });

        // Month Power Total (Grid Chart)
        const customPowerGrid = document.getElementById('customPowerGrid').getContext('2d');
        new Chart(customPowerGrid, {
            type: 'bar',
            data: {
                labels: ['AC', 'Fridge', 'Heater', 'Laptop', 'Microwave', 'Television', 'Washer', 'Dryer'],
                datasets: [{
                    label: 'Total Power (kWh)',
                    data: [10, 7, 5, 3, 8, 4, 6, 2],
                    backgroundColor: '#00ff00',
                    borderWidth: 1
                }]
            }
        });

        // Top Devices (Pie Chart)
        const customDevicesPieChart = document.getElementById('customDevicesPieChart').getContext('2d');
        new Chart(customDevicesPieChart, {
            type: 'pie',
            data: {
                labels: ['AC', 'Fridge', 'Heater', 'Laptop', 'Microwave'],
                datasets: [{
                    label: 'Top 5 Devices',
                    data: [40, 30, 20, 5, 5],
                    backgroundColor: ['#ff0000', '#00ff00', '#0000ff', '#ffff00', '#00ffff'],
                    borderWidth: 1
                }]
            }
        });
    </script>
</body>
</html>
